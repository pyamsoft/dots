# Flatpak

### Steam (Flatpak)

Sometimes Steam loses the location of game libraries in the "Storage" menu. Going back in to add them
opens the document portal, which incorrectly adds a /run/user temp path (due to document exporting).
Make sure you:

1. Have allowed --filesystem access to the library path
2. Add the library in Steams UI to create the library entry. It will not work but thats fine, we just
   need it to update a config file.
3. Close steam once all paths are added
4. Go into <LIBRARY_PATH>/libraryfolder.vdf and see what the "contentid" is.
5. Go into <STEAM_ROOT>/steamapps/libraryfolders.vdf and correct the paths of your folder entries.
   Make sure the "contentid" matches the path of your chosen folder.
6. Go into <STEAM_ROOT>/config/libraryfolders.vdf and correct the paths of your folder entries.
   Make sure the "contentid" matches the path of your chosen folder.
7. Restart steam, should work?


### Games don't launch
EAC games in particular don't like SDL_VIDEODRIVER being set to anything.
Make sure you unset it via --unset-env override in the flatpak file


### AMD GPU power profile
Your AMD gpu may be running on a weaker power profile.
Check the udev rule in `dots/system/etc/udev/rules.d/30-amdgpu-profile.rules`
for an example which sets a stronger power profile to avoid throttling.

#### Gamescope

Gamescope is pinned to commit `9e2ba1b79351dde28e2984b75b11701cbfba1444ba1b0260b61f45ad159c8c74`
Commits after this do not work for Moonlight (x11 error crashes)
and throws some "swap chain" error launching `Ready or Not` on Steam

- No mouse cursor in fullscreen when using SW cursor tweak
  - This can be partially remidied by using software cursors and the extension `gnome-shell-extension-disable-unredirect-git`
  - This allows the use of the SW cursor, while also not making it invisible in an unredirect (fullscreen) window
- No mouse cursor in Moonlight without SW cursor tweak
  - This can be partially remidied by using software cursors and the extension `gnome-shell-extension-disable-unredirect-git`
  - This allows the use of the SW cursor, while also not making it invisible in an unredirect (fullscreen) window
