#!/bin/sh

# Source our common library
. "/opt/pyamsoft/lib/container-launch"

NAME="bentopdf"
IMAGE="docker.io/bentopdf/bentopdf"
TAG="1.15.3"

CONTAINER_REQUIRE_RUNCONF=0

_prep_mounts() {
  return 0
}

_prep_caps() {
  CONTAINER_CAPS="${CONTAINER_CAPS} --cap-add DAC_OVERRIDE"
  return 0
}

_prep_env() {
  return 0
}

_prep_network() {
  _network_isolate || return 1
  return 0
}

_prep_ports() {
  CONTAINER_PORTS="${CONTAINER_PORTS} -p 127.0.0.1:8080:8080/tcp"
  return 0
}

_check_user() {
  if _is_podman; then
    CONTAINER_USERNS="${CONTAINER_USERNS} --userns keep-id"
  fi

  return 0
}

main "$@" || exit 1
exit 0
